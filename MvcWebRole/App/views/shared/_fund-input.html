<div class="row">
    <div class="large-12 columns">
        <section data-bind="with: item">
            <h4 class="view-heading">FUND INFORMATION</h4>

            <fieldset>
                <h5>Fund current status</h5>

                <div class="row">
                    <div class="large-4 columns">
                        <label for="Status">
                            Fund status
                        </label>
                        <select name="Status" data-bind="value: Status">
                            <option value="1">Draft</option>
                            <option value="2">Final</option>
                        </select>
                    </div>
                </div>

                <div class="row">
                    <div class="large-4 columns">
                        <label for="Number">
                            Fund number<span class="required">*</span>
                        </label>
                        <input name="Number" type="text" data-bind="value: Number, css: { validationElement: true }" />
                        <label for="Number" class="error-message" data-bind="validationMessage: Number"></label>
                    </div>
                </div>

                <div class="row">
                    <div class="large-8 columns">
                        <label for="Title">
                            Fund title<span class="required">*</span>
                        </label>
                        <input name="Title" type="text" data-bind="value: Title" />
                        <label for="Title" class="error-message" data-bind="validationMessage: Title"></label>
                    </div>
                </div>

                <div class="row">
                    <div class="large-6 columns">
                        <label for="ResponsiblePerson">
                            Fund responsible person<span class="required">*</span>
                        </label>
                        <input name="ResponsiblePerson" type="text" data-bind="value: ResponsiblePerson" />
                        <label for="ResponsiblePerson"
                            class="error-message" data-bind="validationMessage: ResponsiblePerson"></label>
                    </div>
                </div>

                <div class="row">
                    <div class="large-6 columns">
                        <label for="CurrentBudget">
                            Fund current fiscal year approved budget<span class="required">*</span>
                        </label>
                        <input name="CurrentBudget" type="text"
                            data-bind="value: formattedCurrentBudget, css: { 'negative-value': CurrentBudget() < 0 }" />
                        <label for="CurrentBudget"
                            class="error-message" data-bind="validationMessage: CurrentBudget"></label>
                    </div>
                </div>

                <div class="row">
                    <div class="large-6 columns">
                        <label for="ProjectedExpenditures">
                            Fund current fiscal year projected expenditures<span class="required">*</span>
                        </label>
                        <input name="ProjectedExpenditures" type="text"
                            data-bind="value: formattedProjectedExpenditures, css: { 'negative-value': ProjectedExpenditures() < 0 }" />
                        <label for="ProjectedExpenditures"
                            class="error-message" data-bind="validationMessage: ProjectedExpenditures"></label>
                    </div>
                </div>

                <div class="row">
                    <div class="large-6 columns">
                        <div class="input-panel">
                            <span>Fund projected year-end balance:
                            <strong 
                                data-bind="text: formattedProjectedYearEndBalance, css: { 'negative-value': projectedYearEndBalance() < 0 }"></strong>
                            </span>
                        </div>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <h5>Fund next year projected budget</h5>

                <div class="row">
                    <div class="large-4 columns">
                        <label for="BudgetAdjustment">
                            Fund projected increase or decrease<span class="required">*</span>
                        </label>
                        <input name="BudgetAdjustment" type="text"
                            data-bind="value: formattedBudgetAdjustment, css: { 'negative-value': BudgetAdjustment() < 0 }" />
                        <label for="BudgetAdjustment"
                            class="error-message" data-bind="validationMessage: BudgetAdjustment"></label>
                    </div>
                </div>

                <div class="row">
                    <div class="large-6 columns">
                        <div class="input-panel">
                            <span>Fund requested budget: 
                            <strong 
                                data-bind="text: formattedRequestedBudget, css: { 'negative-value': requestedBudget() < 0 }"></strong>
                            </span>
                        </div>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <h5>Fund supporting information</h5>

                <div class="row">
                    <div class="large-12 columns">
                        <label for="Description">
                            Brief description of the program and types of expenses paid for by this fund<span class="required">*</span>
                        </label>
                        <p class="print-only" data-bind="text: Description"></p>
                        <textarea name="Description" class="hide-on-print"
                            data-bind="value: Description"></textarea>
                        <label for="Description"
                            class="error-message" data-bind="validationMessage: Description"></label>
                    </div>
                </div>

                <div class="row">
                    <div class="large-12 columns">
                        <label for="BudgetAdjustmentNote">
                            Reason for increase or decrease in the requested budget for this fund<span class="required"
                            data-bind="visible: BudgetAdjustment() > 0">*</span>
                        </label>
                        <p class="print-only" data-bind="text: BudgetAdjustmentNote"></p>
                        <textarea name="BudgetAdjustmentNote" class="hide-on-print"
                            data-bind="value: BudgetAdjustmentNote"></textarea>
                        <label for="BudgetAdjustmentNote"
                            class="error-message" data-bind="validationMessage: BudgetAdjustmentNote"></label>
                    </div>
                </div>
            </fieldset>

            <fieldset>
                <h5>Fund attachments</h5>

                <div class="row">
                    <div class="large-12 columns">
                        <p>
                            <a href="http://www.obfp.vt.edu/forms/foundation-portal/budget-request-template.xlsx">Download budget request template</a>
                        </p>
                    </div>
                </div>

                <form name="fileInputForm">
                    <input type="file" name="files[]" multiple
                        data-bind="event: { onload: window.fileInputForm.reset(), change: $parent.postFiles }" />
                </form>

                <div class="row">
                    <div class="large-12 columns">
                        <table data-bind="visible: FileUploads().length > 0">
                            <thead>
                                <tr>
                                    <th>File</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody data-bind="foreach: FileUploads">
                                <tr data-bind="visible: !destroy()">
                                    <td>
                                        <a data-bind="visible: Id, text: OriginalFileName,
    attr: { href: Source }"></a>
                                        <span class="error-message"
                                            data-bind="visible: errorMessage, text: errorMessage"></span>
                                    </td>
                                    <td data-bind="click: $root.removeFileUpload">
                                        <i class="fi-trash"></i>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <p data-bind="visible: FileUploads().length === 0">No files uploaded</p>
                    </div>
                </div>
            </fieldset>

            <div class="row" data-bind="visible: errorMessage">
                <div class="large-12 columns">
                    <p>
                        <span class="error-message"
                            data-bind="text: errorMessage"></span>
                    </p>
                </div>
            </div>

            <div class="row">
                <div class="large-12 columns">
                    <span class="text-button" data-bind="click: $parent.saveItem">Save
                    </span>
                </div>
            </div>
        </section>

    </div>
</div>
